<!DOCTYPE html>
<html lang='zh-Hant'>
  <head>
    <meta charset='utf-8'>
    <title>Crystal 0.14.1 released! - Crystal 程式語言 
    </title>
    <!-- Import Google Icon Font -->
    <link href='https://fonts.googleapis.com/icon?family=Material+Icons|Roboto+Mono' rel='stylesheet'>
    <link type="text/css" rel="stylesheet" href="/assets/stylesheet.css">
    <link href='/feed.xml' rel='alternate' title='Atom 1.0' type='application/atom+xml'>
    <link href='/favicon.png' rel='icon' type='image/png'>
    <link href='/favicon.ico' rel='shortcut icon' type='image/x-icon'>
    <!-- Begin Jekyll SEO tag v1.4.0 -->
<title>Crystal 0.14.1 released! - Crystal 程式語言</title>
<meta property="og:title" content="Crystal 0.14.1 released!" />
<meta name="description" content="Crystal 0.14.1 has been released!" />
<meta property="og:description" content="Crystal 0.14.1 has been released!" />
<link rel="canonical" href="http://crystal-tw.github.io/2016/03/21/crystal-0.14.1-released.html" />
<meta property="og:url" content="http://crystal-tw.github.io/2016/03/21/crystal-0.14.1-released.html" />
<meta property="og:site_name" content="Crystal 程式語言" />
<meta property="og:image" content="http://crystal-tw.github.io/images/icon.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-03-21T00:00:00+00:00" />
<link rel="next" href="http://crystal-tw.github.io/2016/04/02/crystal-0.15.0-released.html" title="Crystal 0.15.0 released!" />
<link rel="prev" href="http://crystal-tw.github.io/2016/03/07/crystal-0.13.0-released.html" title="Crystal 0.13.0 released!" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@CrystalLanguage" />
<meta name="twitter:creator" content="@asterite" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Crystal 0.14.1 released!",
    "image": "http://crystal-tw.github.io/images/icon.png",
    "datePublished": "2016-03-21T00:00:00+00:00",
    "description": "Crystal 0.14.1 has been released!",
    "logo": "http://crystal-tw.github.io/images/crystal-h.png",
    "url": "http://crystal-tw.github.io/2016/03/21/crystal-0.14.1-released.html"
  }
</script>
<!-- End Jekyll SEO tag -->
    <!-- Let browser know website is optimized for mobile -->
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <script src='https://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript'></script>
  </head>
  <body>
    <div class="wrapper ">
      <nav role='navigation'>
  <div class='nav-wrapper no-select'>
    
      <a class='brand-logo' id='logo-container'>
        <canvas height='120' id='logo-canvas' style='cursor:move' width='120'></canvas>
      </a>
    
    <ul class='right hide-on-med-and-down' id='nav-desktop'>
      

  

  
    <li>
      <a href="/" >
        
          Home
        
      </a>
    </li>
  

  
    <li>
      <a href="/blog/" >
        
          Blog
        
      </a>
    </li>
  

  
    <li>
      <a href="/sponsors/" >
        
          Sponsors
        
      </a>
    </li>
  

  
    <li>
      <a href="/community/" >
        
          Community
        
      </a>
    </li>
  

  
    <li>
      <a href="/media/" >
        
          Media
        
      </a>
    </li>
  

<li>
  <a href='http://tw.crystal-lang.org/docs/' target="_blank">入門文件</a>
</li>
<li>
  <a href='https://crystal-lang.org/api/' target="_blank">API</a>
</li>
<li>
  <a href='https://github.com/crystal-lang/crystal' target="_blank">GitHub</a>
</li>


    </ul>
    <ul class='side-nav' id='nav-mobile'>
      

  

  
    <li>
      <a href="/" >
        
          Home
        
      </a>
    </li>
  

  
    <li>
      <a href="/blog/" >
        
          Blog
        
      </a>
    </li>
  

  
    <li>
      <a href="/sponsors/" >
        
          Sponsors
        
      </a>
    </li>
  

  
    <li>
      <a href="/community/" >
        
          Community
        
      </a>
    </li>
  

  
    <li>
      <a href="/media/" >
        
          Media
        
      </a>
    </li>
  

<li>
  <a href='http://tw.crystal-lang.org/docs/' target="_blank">入門文件</a>
</li>
<li>
  <a href='https://crystal-lang.org/api/' target="_blank">API</a>
</li>
<li>
  <a href='https://github.com/crystal-lang/crystal' target="_blank">GitHub</a>
</li>


    </ul>
    <a class='button-collapse' data-activates='nav-mobile' href='#'>
      <i class='material-icons'>menu</i>
    </a>
  </div>
</nav>

      
        <div class='post-header'>
  <div class="container">
    <div class='valign row'>
      <div class="col m2"></div>
      <div class="col s12 m9">
        <div class="author small">
          
          
            <img src="/assets/authors/asterite.jpg" width="360" height="360" alt="authors/asterite.jpg">
          
          
            <span class="author_name">Ary Borenzweig</span>
          
          
          
            <span class="date">21 Mar 2016</span>
          
        </div>

        <h1 class='title'>Crystal 0.14.1 released!</h1>
      </div>
      <div class="col m1"></div>
    </div>
  </div>
</div>

      
      <main>
        <div class="container">
  <div class="row post-layout">
    <div class="col m2 share">
      <p class="title small share-title">Share</p>
      <div class="share-list">
        
        <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2F127.0.0.1%2F2016%2F03%2F21%2Fcrystal-0.14.1-released.html&text=Crystal+0.14.1+released%21&via=CrystalLanguage" target="_blank">
          <div class="share-item"><i class="extra-icons twitter gray"></i></div>
        </a>
        <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2F127.0.0.1%2F2016%2F03%2F21%2Fcrystal-0.14.1-released.html" target="_blank">
          <div class="share-item"><i class="extra-icons facebook gray"></i></div>
        </a>
        <a href="https://plus.google.com/share?url=https%3A%2F%2F127.0.0.1%2F2016%2F03%2F21%2Fcrystal-0.14.1-released.html" target="_blank">
          <div class="share-item"><i class="extra-icons google_plus gray"></i></div>
          </a>
      </div>
    </div>

    <div class="col s12 m9">
      <p><a href="https://github.com/crystal-lang/crystal/releases/tag/0.14.1">Crystal 0.14.1</a> has been released!</p>

<p>The major feature is a built-in playground made by <a href="http://github.com/bcardiff">@bcardiff</a>.</p>

<h2 id="the-playground">The Playground</h2>

<p>The new playground is an excellent way to try ideas, test code, understand its execution,
and teach Crystal to others.</p>

<p>You start the playground like this:</p>

<pre class="code">
$ crystal play
Listening on http://localhost:8080
</pre>

<p>You then open your browser at <code class="highlighter-rouge">http://localhost:8080/</code> and you will be presented with a screen like this:</p>

<p><a href="/images/playground/main.png" target="_blank"><img src="/assets/playground/main.png" width="640" class="center" /></a></p>

<p>You write code on the left pane, and after you stop typing it will compile and execute it.</p>

<p>Every expression’s value will be shown on the right pane, and if the program has output it is
shown in a bottom pane you can show by clicking the icon below the right pane.</p>

<p><a href="/images/playground/output.png" target="_blank"><img src="/assets/playground/output.png" width="640" class="center" /></a></p>

<p>If an expression is executed multiple times, the right pane will show how many times it was
executed, and clicking on that it will open a table with all values.</p>

<p><a href="/images/playground/times.png" target="_blank"><img src="/assets/playground/times.png" width="640" class="center" /></a></p>

<p><a href="/images/playground/times_table.png" target="_blank"><img src="/assets/playground/times_table.png" width="640" class="center" /></a></p>

<p>If you use a tuple as an expression, the table will show a column for each of this values.
In this way you can quickly see the relationship between multiple values in every iteration.</p>

<p><a href="/images/playground/tuple.png" target="_blank"><img src="/assets/playground/tuple.png" width="640" class="center" /></a></p>

<p><a href="/images/playground/tuple_table.png" target="_blank"><img src="/assets/playground/tuple_table.png" width="640" class="center" /></a></p>

<p>The right pane reacts “live” to code execution. For example if you use <code class="highlighter-rouge">sleep 1.second</code> inside
a loop you will see values appearing every second.</p>

<p>The playground has access to the whole standard library, so you can use things like http clients
and servers in it. You can also <code class="highlighter-rouge">require</code> files that are provided by <code class="highlighter-rouge">shards</code> you mention in
your <code class="highlighter-rouge">shards.yml</code> file, so you can play with that code too.</p>

<p>You can find more examples and use cases in the About section at the top right corner. You can also
adjust a couple of settings, like whether to automatically compile code or not, and easily share it as a gist.</p>

<h3 id="implementation">Implementation</h3>

<p>When you execute <code class="highlighter-rouge">crystal play</code> an http server is started. When you use the playground,
it connects to that http server via a websocket, and code you type is sent through it.</p>

<p>You can see what the server does with your code if you start the playground with <code class="highlighter-rouge">crystal play --verbose</code>.</p>

<p>For example, if you type this code:</p>

<div class="code_section">
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">2</span></code></pre></figure>
</div>

<p>The console will show this output:</p>

<pre class="code">
I, [2016-03-21 14:55:17 -0300 #2379]  INFO -- : /client WebSocket connected as session=1
I, [2016-03-21 14:55:17 -0300 #2379]  INFO -- : Request to run code (session=1, tag=1).
a = 1
b = a + 2
I, [2016-03-21 14:55:17 -0300 #2379]  INFO -- : Code instrumentation (session=1, tag=1).
a = $p.i(1, 1)
b = $p.i(a + 2, 2)

I, [2016-03-21 14:55:17 -0300 #2379]  INFO -- : Instrumented code compilation started ...
I, [2016-03-21 14:55:18 -0300 #2379]  INFO -- : Code execution started (session=1, tag=1, ...
I, [2016-03-21 14:55:18 -0300 #2379]  INFO -- : /agent/1/1 WebSocket connected (session=1, ...
I, [2016-03-21 14:55:18 -0300 #2379]  INFO -- : Code execution ended (session=1, tag=1, ...
</pre>

<p>Some lines in your code are transformed to doing <code class="highlighter-rouge">$p.i(...)</code>. <code class="highlighter-rouge">$p</code> is initialized
to a class that will send that data over the websocket, together with line number
information, and will finally appear on the right pane.</p>

<p>Thanks to the fact the the compiler is written in Crystal and it provides APIs to transform
AST nodes, and the standard library provides http server and websockets implementation, the resulting
playground implementation is about 600 lines of Crystal code. The other half is made with javascript
and HTML.</p>

<p>As the screenshots say: Happy Crystalling ♥</p>

    </div>
    <div class="col m1"></div>
  </div>

  <div class="row disqus">
    <div class="col m2"></div>
    <div class="col s12 m9" id='disqus_thread'>
      <p><a href="https://github.com/crystal-lang/crystal/releases/tag/0.14.1">Crystal 0.14.1</a> has been released!</p>

<p>The major feature is a built-in playground made by <a href="http://github.com/bcardiff">@bcardiff</a>.</p>

<h2 id="the-playground">The Playground</h2>

<p>The new playground is an excellent way to try ideas, test code, understand its execution,
and teach Crystal to others.</p>

<p>You start the playground like this:</p>

<pre class="code">
$ crystal play
Listening on http://localhost:8080
</pre>

<p>You then open your browser at <code class="highlighter-rouge">http://localhost:8080/</code> and you will be presented with a screen like this:</p>

<p><a href="/images/playground/main.png" target="_blank"><img src="/assets/playground/main.png" width="640" class="center" /></a></p>

<p>You write code on the left pane, and after you stop typing it will compile and execute it.</p>

<p>Every expression’s value will be shown on the right pane, and if the program has output it is
shown in a bottom pane you can show by clicking the icon below the right pane.</p>

<p><a href="/images/playground/output.png" target="_blank"><img src="/assets/playground/output.png" width="640" class="center" /></a></p>

<p>If an expression is executed multiple times, the right pane will show how many times it was
executed, and clicking on that it will open a table with all values.</p>

<p><a href="/images/playground/times.png" target="_blank"><img src="/assets/playground/times.png" width="640" class="center" /></a></p>

<p><a href="/images/playground/times_table.png" target="_blank"><img src="/assets/playground/times_table.png" width="640" class="center" /></a></p>

<p>If you use a tuple as an expression, the table will show a column for each of this values.
In this way you can quickly see the relationship between multiple values in every iteration.</p>

<p><a href="/images/playground/tuple.png" target="_blank"><img src="/assets/playground/tuple.png" width="640" class="center" /></a></p>

<p><a href="/images/playground/tuple_table.png" target="_blank"><img src="/assets/playground/tuple_table.png" width="640" class="center" /></a></p>

<p>The right pane reacts “live” to code execution. For example if you use <code class="highlighter-rouge">sleep 1.second</code> inside
a loop you will see values appearing every second.</p>

<p>The playground has access to the whole standard library, so you can use things like http clients
and servers in it. You can also <code class="highlighter-rouge">require</code> files that are provided by <code class="highlighter-rouge">shards</code> you mention in
your <code class="highlighter-rouge">shards.yml</code> file, so you can play with that code too.</p>

<p>You can find more examples and use cases in the About section at the top right corner. You can also
adjust a couple of settings, like whether to automatically compile code or not, and easily share it as a gist.</p>

<h3 id="implementation">Implementation</h3>

<p>When you execute <code class="highlighter-rouge">crystal play</code> an http server is started. When you use the playground,
it connects to that http server via a websocket, and code you type is sent through it.</p>

<p>You can see what the server does with your code if you start the playground with <code class="highlighter-rouge">crystal play --verbose</code>.</p>

<p>For example, if you type this code:</p>

<div class="code_section">
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">2</span></code></pre></figure>
</div>

<p>The console will show this output:</p>

<pre class="code">
I, [2016-03-21 14:55:17 -0300 #2379]  INFO -- : /client WebSocket connected as session=1
I, [2016-03-21 14:55:17 -0300 #2379]  INFO -- : Request to run code (session=1, tag=1).
a = 1
b = a + 2
I, [2016-03-21 14:55:17 -0300 #2379]  INFO -- : Code instrumentation (session=1, tag=1).
a = $p.i(1, 1)
b = $p.i(a + 2, 2)

I, [2016-03-21 14:55:17 -0300 #2379]  INFO -- : Instrumented code compilation started ...
I, [2016-03-21 14:55:18 -0300 #2379]  INFO -- : Code execution started (session=1, tag=1, ...
I, [2016-03-21 14:55:18 -0300 #2379]  INFO -- : /agent/1/1 WebSocket connected (session=1, ...
I, [2016-03-21 14:55:18 -0300 #2379]  INFO -- : Code execution ended (session=1, tag=1, ...
</pre>

<p>Some lines in your code are transformed to doing <code class="highlighter-rouge">$p.i(...)</code>. <code class="highlighter-rouge">$p</code> is initialized
to a class that will send that data over the websocket, together with line number
information, and will finally appear on the right pane.</p>

<p>Thanks to the fact the the compiler is written in Crystal and it provides APIs to transform
AST nodes, and the standard library provides http server and websockets implementation, the resulting
playground implementation is about 600 lines of Crystal code. The other half is made with javascript
and HTML.</p>

<p>As the screenshots say: Happy Crystalling ♥</p>

    </div>
    <div class="col m1"></div>
  </div>
</div>
<script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'crystal-lang'; // required: replace example with your forum shortname
  var disqus_identifier = '/2016/03/21/crystal-0.14.1-released';
  var disqus_title = "Crystal 0.14.1 released!";
  var disqus_url = "http://crystal-lang.org//2016/03/21/crystal-0.14.1-released.html";

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>
  Please enable JavaScript to view the
  <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a>
</noscript>
<a class='dsq-brlink' href='http://disqus.com'>
  comments powered by
  <span class='logo-disqus'>Disqus</span>
</a>

      </main>
      <footer>
  <div class="row">
    <div class="col s12 m12 l6 crystal" style="margin-top: -.5em;">
      Crystal is licensed under the Apache License,
      <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>
        Version 2.0
      </a>
			<br />
			本站正體中文（臺灣）翻譯由 
			<a href='https://github.com/crystal-tw' target='_blank'>
				Crystal-TW
			</a>
			社群貢獻。
    </div>
    <div class="col s12 m12 l6 manas right-align black-text">
      Crystal language, born &amp; raised at
      <a href="https://manas.tech" target="_blank" class="black-text">Manas</a>
      <a href="https://manas.tech" target="_blank" class="logo">
        <i class="manas"></i>
      </a>
    </div>
  </div>
</footer>

    </div>

    <script id="dsq-count-scr" src="//crystal-lang.disqus.com/count.js" async></script>
    <script type="text/javascript" src="/assets/bundle.js"></script>
    <!-- Disable original GA temporary
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42353458-1', 'auto');
  ga('send', 'pageview');
</script>
-->

  </body>
</html>
